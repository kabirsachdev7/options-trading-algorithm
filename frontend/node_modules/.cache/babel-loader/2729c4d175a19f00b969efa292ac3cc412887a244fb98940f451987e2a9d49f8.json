{"ast":null,"code":"// Chart.js\nimport React,{useEffect,useState}from\"react\";import{Line}from\"react-chartjs-2\";import axios from\"axios\";import{Spinner}from\"react-bootstrap\";import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend}from\"chart.js\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend);const HistoricalChart=_ref=>{let{ticker}=_ref;const[data,setData]=useState(null);useEffect(()=>{const fetchHistorical=async()=>{try{const response=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/historical?ticker=\").concat(ticker),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}});const{dates,prices}=response.data;setData({labels:dates,datasets:[{label:\"\".concat(ticker,\" Historical Prices\"),data:prices,borderColor:\"#00c853\",backgroundColor:\"rgba(0, 200, 83, 0.2)\"}]});}catch(err){console.error(\"Failed to fetch historical data\",err);}};if(ticker){fetchHistorical();}},[ticker]);if(!data)return/*#__PURE__*/_jsx(Spinner,{animation:\"border\"});return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:\"#1e1e1e\",padding:\"20px\",borderRadius:\"8px\",marginTop:\"20px\"},children:[/*#__PURE__*/_jsxs(\"h5\",{style:{color:\"#ffffff\",marginBottom:\"20px\"},children:[ticker,\" Historical Chart\"]}),/*#__PURE__*/_jsx(Line,{data:data,options:{responsive:true,plugins:{legend:{display:false}}}})]});};export default HistoricalChart;","map":{"version":3,"names":["React","useEffect","useState","Line","axios","Spinner","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","jsx","_jsx","jsxs","_jsxs","register","HistoricalChart","_ref","ticker","data","setData","fetchHistorical","response","get","concat","process","env","REACT_APP_API_URL","headers","Authorization","localStorage","getItem","dates","prices","labels","datasets","label","borderColor","backgroundColor","err","console","error","animation","style","padding","borderRadius","marginTop","children","color","marginBottom","options","responsive","plugins","legend","display"],"sources":["/Users/kabirsachdev/Documents/options-trading-algorithm/frontend/src/components/Chart.js"],"sourcesContent":["// Chart.js\nimport React, { useEffect, useState } from \"react\";\nimport { Line } from \"react-chartjs-2\";\nimport axios from \"axios\";\nimport { Spinner } from \"react-bootstrap\";\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n} from \"chart.js\";\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\nconst HistoricalChart = ({ ticker }) => {\n  const [data, setData] = useState(null);\n\n  useEffect(() => {\n    const fetchHistorical = async () => {\n      try {\n        const response = await axios.get(\n          `${process.env.REACT_APP_API_URL}/historical?ticker=${ticker}`,\n          {\n            headers: {\n              Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n            },\n          }\n        );\n        const { dates, prices } = response.data;\n        setData({\n          labels: dates,\n          datasets: [\n            {\n              label: `${ticker} Historical Prices`,\n              data: prices,\n              borderColor: \"#00c853\",\n              backgroundColor: \"rgba(0, 200, 83, 0.2)\",\n            },\n          ],\n        });\n      } catch (err) {\n        console.error(\"Failed to fetch historical data\", err);\n      }\n    };\n    if (ticker) {\n      fetchHistorical();\n    }\n  }, [ticker]);\n\n  if (!data) return <Spinner animation=\"border\" />;\n\n  return (\n    <div\n      style={{\n        backgroundColor: \"#1e1e1e\",\n        padding: \"20px\",\n        borderRadius: \"8px\",\n        marginTop: \"20px\",\n      }}\n    >\n      <h5 style={{ color: \"#ffffff\", marginBottom: \"20px\" }}>\n        {ticker} Historical Chart\n      </h5>\n      <Line\n        data={data}\n        options={{ responsive: true, plugins: { legend: { display: false } } }}\n      />\n    </div>\n  );\n};\n\nexport default HistoricalChart;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,iBAAiB,CACtC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,OAAO,KAAQ,iBAAiB,CACzC,OACEC,KAAK,GAAI,CAAAC,OAAO,CAChBC,aAAa,CACbC,WAAW,CACXC,YAAY,CACZC,WAAW,CACXC,KAAK,CACLC,OAAO,CACPC,MAAM,KACD,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElBX,OAAO,CAACY,QAAQ,CACdX,aAAa,CACbC,WAAW,CACXC,YAAY,CACZC,WAAW,CACXC,KAAK,CACLC,OAAO,CACPC,MACF,CAAC,CAED,KAAM,CAAAM,eAAe,CAAGC,IAAA,EAAgB,IAAf,CAAEC,MAAO,CAAC,CAAAD,IAAA,CACjC,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGtB,QAAQ,CAAC,IAAI,CAAC,CAEtCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAwB,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAtB,KAAK,CAACuB,GAAG,IAAAC,MAAA,CAC3BC,OAAO,CAACC,GAAG,CAACC,iBAAiB,wBAAAH,MAAA,CAAsBN,MAAM,EAC5D,CACEU,OAAO,CAAE,CACPC,aAAa,WAAAL,MAAA,CAAYM,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACxD,CACF,CACF,CAAC,CACD,KAAM,CAAEC,KAAK,CAAEC,MAAO,CAAC,CAAGX,QAAQ,CAACH,IAAI,CACvCC,OAAO,CAAC,CACNc,MAAM,CAAEF,KAAK,CACbG,QAAQ,CAAE,CACR,CACEC,KAAK,IAAAZ,MAAA,CAAKN,MAAM,sBAAoB,CACpCC,IAAI,CAAEc,MAAM,CACZI,WAAW,CAAE,SAAS,CACtBC,eAAe,CAAE,uBACnB,CAAC,CAEL,CAAC,CAAC,CACJ,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,iCAAiC,CAAEF,GAAG,CAAC,CACvD,CACF,CAAC,CACD,GAAIrB,MAAM,CAAE,CACVG,eAAe,CAAC,CAAC,CACnB,CACF,CAAC,CAAE,CAACH,MAAM,CAAC,CAAC,CAEZ,GAAI,CAACC,IAAI,CAAE,mBAAOP,IAAA,CAACX,OAAO,EAACyC,SAAS,CAAC,QAAQ,CAAE,CAAC,CAEhD,mBACE5B,KAAA,QACE6B,KAAK,CAAE,CACLL,eAAe,CAAE,SAAS,CAC1BM,OAAO,CAAE,MAAM,CACfC,YAAY,CAAE,KAAK,CACnBC,SAAS,CAAE,MACb,CAAE,CAAAC,QAAA,eAEFjC,KAAA,OAAI6B,KAAK,CAAE,CAAEK,KAAK,CAAE,SAAS,CAAEC,YAAY,CAAE,MAAO,CAAE,CAAAF,QAAA,EACnD7B,MAAM,CAAC,mBACV,EAAI,CAAC,cACLN,IAAA,CAACb,IAAI,EACHoB,IAAI,CAAEA,IAAK,CACX+B,OAAO,CAAE,CAAEC,UAAU,CAAE,IAAI,CAAEC,OAAO,CAAE,CAAEC,MAAM,CAAE,CAAEC,OAAO,CAAE,KAAM,CAAE,CAAE,CAAE,CACxE,CAAC,EACC,CAAC,CAEV,CAAC,CAED,cAAe,CAAAtC,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}