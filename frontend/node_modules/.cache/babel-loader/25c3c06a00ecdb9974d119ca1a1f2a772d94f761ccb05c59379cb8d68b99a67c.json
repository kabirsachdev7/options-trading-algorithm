{"ast":null,"code":"// Portfolio.js\nimport React,{useState,useEffect}from\"react\";import axios from\"axios\";import{Container,Table,Alert,Card}from\"react-bootstrap\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Portfolio=()=>{const[portfolio,setPortfolio]=useState([]);const[error,setError]=useState(\"\");const[totalValue,setTotalValue]=useState(0);useEffect(()=>{const fetchPortfolio=async()=>{try{const token=localStorage.getItem(\"token\");const response=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/portfolio\"),{headers:{Authorization:\"Bearer \".concat(token)}});setPortfolio(response.data);const value=response.data.reduce((acc,h)=>acc+h.current_price*h.quantity,0);setTotalValue(value);}catch(err){setError(\"Failed to fetch portfolio.\");}};fetchPortfolio();},[]);if(error){return/*#__PURE__*/_jsx(Alert,{variant:\"danger\",className:\"mt-4\",children:error});}return/*#__PURE__*/_jsxs(Container,{style:{marginTop:\"50px\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Portfolio\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted\",children:[\"Total Portfolio Value:\",\" \",/*#__PURE__*/_jsxs(\"span\",{style:{color:\"#00c853\"},children:[\"$\",totalValue.toFixed(2)]})]}),portfolio.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No holdings found.\"}):/*#__PURE__*/_jsx(Card,{style:{backgroundColor:\"#1e1e1e\",borderRadius:\"8px\",padding:\"20px\"},children:/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Ticker\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Purchase Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Current Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Profit/Loss\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:portfolio.map(holding=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:holding.ticker}),/*#__PURE__*/_jsx(\"td\",{children:holding.quantity}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",holding.purchase_price.toFixed(2)]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",holding.current_price.toFixed(2)]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{style:{color:holding.profit_loss>=0?\"#00c853\":\"#ff5252\"},children:[\"$\",holding.profit_loss.toFixed(2)]})})]},holding.ticker))})]})})]});};export default Portfolio;","map":{"version":3,"names":["React","useState","useEffect","axios","Container","Table","Alert","Card","jsx","_jsx","jsxs","_jsxs","Portfolio","portfolio","setPortfolio","error","setError","totalValue","setTotalValue","fetchPortfolio","token","localStorage","getItem","response","get","concat","process","env","REACT_APP_API_URL","headers","Authorization","data","value","reduce","acc","h","current_price","quantity","err","variant","className","children","style","marginTop","color","toFixed","length","backgroundColor","borderRadius","padding","striped","bordered","hover","map","holding","ticker","purchase_price","profit_loss"],"sources":["/Users/kabirsachdev/Documents/options-trading-algorithm/frontend/src/components/Portfolio.js"],"sourcesContent":["// Portfolio.js\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Container, Table, Alert, Card } from \"react-bootstrap\";\n\nconst Portfolio = () => {\n  const [portfolio, setPortfolio] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [totalValue, setTotalValue] = useState(0);\n\n  useEffect(() => {\n    const fetchPortfolio = async () => {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const response = await axios.get(\n          `${process.env.REACT_APP_API_URL}/portfolio`,\n          {\n            headers: { Authorization: `Bearer ${token}` },\n          }\n        );\n        setPortfolio(response.data);\n\n        const value = response.data.reduce(\n          (acc, h) => acc + h.current_price * h.quantity,\n          0\n        );\n        setTotalValue(value);\n      } catch (err) {\n        setError(\"Failed to fetch portfolio.\");\n      }\n    };\n\n    fetchPortfolio();\n  }, []);\n\n  if (error) {\n    return (\n      <Alert variant=\"danger\" className=\"mt-4\">\n        {error}\n      </Alert>\n    );\n  }\n\n  return (\n    <Container style={{ marginTop: \"50px\" }}>\n      <h2>Your Portfolio</h2>\n      <p className=\"text-muted\">\n        Total Portfolio Value:{\" \"}\n        <span style={{ color: \"#00c853\" }}>${totalValue.toFixed(2)}</span>\n      </p>\n      {portfolio.length === 0 ? (\n        <p>No holdings found.</p>\n      ) : (\n        <Card\n          style={{\n            backgroundColor: \"#1e1e1e\",\n            borderRadius: \"8px\",\n            padding: \"20px\",\n          }}\n        >\n          <Table striped bordered hover className=\"mt-3\">\n            <thead>\n              <tr>\n                <th>Ticker</th>\n                <th>Quantity</th>\n                <th>Purchase Price</th>\n                <th>Current Price</th>\n                <th>Profit/Loss</th>\n              </tr>\n            </thead>\n            <tbody>\n              {portfolio.map((holding) => (\n                <tr key={holding.ticker}>\n                  <td>{holding.ticker}</td>\n                  <td>{holding.quantity}</td>\n                  <td>${holding.purchase_price.toFixed(2)}</td>\n                  <td>${holding.current_price.toFixed(2)}</td>\n                  <td>\n                    <span\n                      style={{\n                        color: holding.profit_loss >= 0 ? \"#00c853\" : \"#ff5252\",\n                      }}\n                    >\n                      ${holding.profit_loss.toFixed(2)}\n                    </span>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </Table>\n        </Card>\n      )}\n    </Container>\n  );\n};\n\nexport default Portfolio;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAEC,KAAK,CAAEC,KAAK,CAAEC,IAAI,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhE,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACc,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACgB,UAAU,CAAEC,aAAa,CAAC,CAAGjB,QAAQ,CAAC,CAAC,CAAC,CAE/CC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACF,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAApB,KAAK,CAACqB,GAAG,IAAAC,MAAA,CAC3BC,OAAO,CAACC,GAAG,CAACC,iBAAiB,eAChC,CACEC,OAAO,CAAE,CAAEC,aAAa,WAAAL,MAAA,CAAYL,KAAK,CAAG,CAC9C,CACF,CAAC,CACDN,YAAY,CAACS,QAAQ,CAACQ,IAAI,CAAC,CAE3B,KAAM,CAAAC,KAAK,CAAGT,QAAQ,CAACQ,IAAI,CAACE,MAAM,CAChC,CAACC,GAAG,CAAEC,CAAC,GAAKD,GAAG,CAAGC,CAAC,CAACC,aAAa,CAAGD,CAAC,CAACE,QAAQ,CAC9C,CACF,CAAC,CACDnB,aAAa,CAACc,KAAK,CAAC,CACtB,CAAE,MAAOM,GAAG,CAAE,CACZtB,QAAQ,CAAC,4BAA4B,CAAC,CACxC,CACF,CAAC,CAEDG,cAAc,CAAC,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIJ,KAAK,CAAE,CACT,mBACEN,IAAA,CAACH,KAAK,EAACiC,OAAO,CAAC,QAAQ,CAACC,SAAS,CAAC,MAAM,CAAAC,QAAA,CACrC1B,KAAK,CACD,CAAC,CAEZ,CAEA,mBACEJ,KAAA,CAACP,SAAS,EAACsC,KAAK,CAAE,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAAF,QAAA,eACtChC,IAAA,OAAAgC,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvB9B,KAAA,MAAG6B,SAAS,CAAC,YAAY,CAAAC,QAAA,EAAC,wBACF,CAAC,GAAG,cAC1B9B,KAAA,SAAM+B,KAAK,CAAE,CAAEE,KAAK,CAAE,SAAU,CAAE,CAAAH,QAAA,EAAC,GAAC,CAACxB,UAAU,CAAC4B,OAAO,CAAC,CAAC,CAAC,EAAO,CAAC,EACjE,CAAC,CACHhC,SAAS,CAACiC,MAAM,GAAK,CAAC,cACrBrC,IAAA,MAAAgC,QAAA,CAAG,oBAAkB,CAAG,CAAC,cAEzBhC,IAAA,CAACF,IAAI,EACHmC,KAAK,CAAE,CACLK,eAAe,CAAE,SAAS,CAC1BC,YAAY,CAAE,KAAK,CACnBC,OAAO,CAAE,MACX,CAAE,CAAAR,QAAA,cAEF9B,KAAA,CAACN,KAAK,EAAC6C,OAAO,MAACC,QAAQ,MAACC,KAAK,MAACZ,SAAS,CAAC,MAAM,CAAAC,QAAA,eAC5ChC,IAAA,UAAAgC,QAAA,cACE9B,KAAA,OAAA8B,QAAA,eACEhC,IAAA,OAAAgC,QAAA,CAAI,QAAM,CAAI,CAAC,cACfhC,IAAA,OAAAgC,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjBhC,IAAA,OAAAgC,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBhC,IAAA,OAAAgC,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBhC,IAAA,OAAAgC,QAAA,CAAI,aAAW,CAAI,CAAC,EAClB,CAAC,CACA,CAAC,cACRhC,IAAA,UAAAgC,QAAA,CACG5B,SAAS,CAACwC,GAAG,CAAEC,OAAO,eACrB3C,KAAA,OAAA8B,QAAA,eACEhC,IAAA,OAAAgC,QAAA,CAAKa,OAAO,CAACC,MAAM,CAAK,CAAC,cACzB9C,IAAA,OAAAgC,QAAA,CAAKa,OAAO,CAACjB,QAAQ,CAAK,CAAC,cAC3B1B,KAAA,OAAA8B,QAAA,EAAI,GAAC,CAACa,OAAO,CAACE,cAAc,CAACX,OAAO,CAAC,CAAC,CAAC,EAAK,CAAC,cAC7ClC,KAAA,OAAA8B,QAAA,EAAI,GAAC,CAACa,OAAO,CAAClB,aAAa,CAACS,OAAO,CAAC,CAAC,CAAC,EAAK,CAAC,cAC5CpC,IAAA,OAAAgC,QAAA,cACE9B,KAAA,SACE+B,KAAK,CAAE,CACLE,KAAK,CAAEU,OAAO,CAACG,WAAW,EAAI,CAAC,CAAG,SAAS,CAAG,SAChD,CAAE,CAAAhB,QAAA,EACH,GACE,CAACa,OAAO,CAACG,WAAW,CAACZ,OAAO,CAAC,CAAC,CAAC,EAC5B,CAAC,CACL,CAAC,GAbES,OAAO,CAACC,MAcb,CACL,CAAC,CACG,CAAC,EACH,CAAC,CACJ,CACP,EACQ,CAAC,CAEhB,CAAC,CAED,cAAe,CAAA3C,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}